(this["webpackJsonpreact-todo-firebase"]=this["webpackJsonpreact-todo-firebase"]||[]).push([[0],{58:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=n(15),u=n.n(i),s=n(25),l=n(18),d=n.n(l),f=(n(45),n(36)),m=function(e){return{type:"LOGIN",payload:{user:e}}},p=n(22),b=n(26),h=n(24),O=n(19),E=n(99),j=n(108),v=n(98);function g(){var e=Object(h.a)(["\n  margin: 0 5px;\n"]);return g=function(){return e},e}function y(){var e=Object(h.a)(["\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"]);return y=function(){return e},e}var x=Object(O.b)(j.a)(y(),(function(e){return e.theme.palette.primary.main})),k=Object(O.b)(v.a)(g()),w=function(e){var t=e.todoList,n=e.deleteTodo,a=e.changeTodoStatus,o=e.type;return r.a.createElement(E.a,{container:!0,spacing:3},t.map((function(e,t){return r.a.createElement(x,{key:t},r.a.createElement(E.a,{item:!0,xs:8},e),r.a.createElement(E.a,{item:!0,xs:4},r.a.createElement(k,{variant:"contained",color:"primary",onClick:function(){return a(t)}},"todo"===o?"\u6e08\u307f":"\u623b\u3059"),r.a.createElement(k,{variant:"contained",color:"secondary",onClick:function(){return n(t)}},"\u524a\u9664")))})))},T=n(100),S=n(109),L=n(101),C=n(102),I=n(103),G=n(104),A=n(107),B=n(106);function D(){var e=Object(h.a)(["\n  margin: 40px auto;\n"]);return D=function(){return e},e}function N(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 auto;\n  > * {\n    width: 48%;\n  }\n"]);return N=function(){return e},e}function U(){var e=Object(h.a)(["\n  margin: 40px 0;\n"]);return U=function(){return e},e}function R(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n"]);return R=function(){return e},e}var W=O.b.div(R()),z=O.b.section(U()),J=O.b.div(N()),K=O.b.div(D()),P=function(e){var t=e.user,n=e.login,o=e.refLogin,c=e.logout,i=Object(a.useState)(""),l=Object(b.a)(i,2),f=l[0],m=l[1],h=Object(a.useState)([]),O=Object(b.a)(h,2),j=O[0],g=O[1],y=Object(a.useState)([]),x=Object(b.a)(y,2),k=x[0],D=x[1],N=Object(a.useState)(!0),U=Object(b.a)(N,2),R=U[0],P=U[1],H=Object(a.useState)(!1),M=Object(b.a)(H,2),Q=M[0],V=M[1],X=Object(a.useState)(!1),q=Object(b.a)(X,2),F=q[0],Y=q[1],Z=d.a.firestore();Object(a.useEffect)((function(){o((function(){return P(!1)}))}),[o]),Object(a.useEffect)((function(){null!=t&&Object(s.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.collection("todolist").doc(t.uid).get();case 2:(n=e.sent).data().todo.tasks&&g(n.data().todo.tasks),n.data().finishedTodo.tasks&&D(n.data().finishedTodo.tasks),P(!1);case 6:case"end":return e.stop()}}),e)})))()}),[Z,t]),Object(a.useEffect)((function(){null!=t&&Q&&Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,Z.collection("todolist").doc(t.uid);case 3:e.sent.update({todo:{tasks:j}}),P(!1);case 6:case"end":return e.stop()}}),e)})))()}),[j,Q,Z,t]),Object(a.useEffect)((function(){null!=t&&(F&&Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,Z.collection("todolist").doc(t.uid);case 3:e.sent.update({finishedTodo:{tasks:k}}),P(!1);case 6:case"end":return e.stop()}}),e)})))(),Y(!1))}),[Z,k,F,t]);var $=function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f&&(V(!0),g([].concat(Object(p.a)(j),[f])),m(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){V(!0),g(j.filter((function(t,n){return n!==e})))},ee=function(e){Y(!0),D(k.filter((function(t,n){return n!==e})))};return null==t?R?r.a.createElement(W,null,r.a.createElement(T.a,null)):r.a.createElement(W,null,r.a.createElement(S.a,null,r.a.createElement(L.a,null,r.a.createElement(C.a,{variant:"h3",component:"h2",color:"textSecondary",gutterBottom:!0},"TODO"),r.a.createElement(C.a,{variant:"body2",component:"p"},"Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),r.a.createElement(I.a,{style:{justifyContent:"center"}},r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(){return n()}},"Gooele Login")))):r.a.createElement(G.a,{maxWidth:"xl"},r.a.createElement(C.a,{variant:"h2",component:"h1"},"TODO!!"),r.a.createElement(A.a,{alt:t.displayName,src:t.photoURL}),r.a.createElement("p",null,t.displayName,"\u3055\u3093"),r.a.createElement("button",{onClick:function(){return c()}},"Logout"),r.a.createElement("form",{onSubmit:function(e){return $(e)}},r.a.createElement(E.a,{container:!0,spacing:3},r.a.createElement(E.a,{item:!0,xs:9},r.a.createElement(B.a,{fullWidth:!0,onChange:function(e){return function(e){m(e.target.value)}(e)},value:f})),r.a.createElement(E.a,{item:!0,xs:1},r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:function(e){return $(e)},type:"submit"},"\u8ffd\u52a0")))),R?r.a.createElement(K,null,"loading"):r.a.createElement(J,null,r.a.createElement(z,null,r.a.createElement(C.a,{variant:"h3",component:"h2"},"TASK"),r.a.createElement(w,{todoList:j,deleteTodo:_,changeTodoStatus:function(e){V(!0),Y(!0),_(e),D([].concat(Object(p.a)(k),[j.find((function(t,n){return n===e}))]))},type:"todo"})),r.a.createElement(z,null,r.a.createElement(C.a,{variant:"h3",component:"h2"},"COMPLETE"),r.a.createElement(w,{todoList:k,deleteTodo:ee,changeTodoStatus:function(e){V(!0),Y(!0),ee(e),g([].concat(Object(p.a)(j),[k.find((function(t,n){return n===e}))]))},type:"done"}))))},H=Object(f.b)((function(e){return{user:e.auth.user}}),(function(e){return{login:function(){var e=new d.a.auth.GoogleAuthProvider;d.a.auth().signInWithRedirect(e)},refLogin:function(t){var n=d.a.firestore();d.a.auth().onAuthStateChanged(function(){var a=Object(s.a)(u.a.mark((function a(r){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log(r),r){a.next=4;break}return t(),a.abrupt("return",!1);case 4:return a.next=6,n.collection("todolist").doc(r.uid).get();case 6:a.sent.exists||n.collection("todolist").doc(r.uid).set({todo:{tasks:[]},finishedTodo:{tasks:[]}}),e(m(r));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},logout:function(){d.a.auth().signOut(),e({type:"LOGOUT"})}}}))(P),M=n(27),Q=n(40),V={user:null},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(Q.a)({},e,{user:t.payload.user});case"LOGOUT":return Object(Q.a)({},e,{user:null});default:return e}},q=Object(M.b)({auth:X}),F=n(105),Y=n(53),Z=Object(Y.a)({palette:{primary:{main:"#add8e6",dark:"#82a5b1",light:"#cfeff9"},secondary:{main:"#fbe1a9"},text:{primary:"#444444",secondary:"#757575"}}}),$=(n(76),{apiKey:"AIzaSyBO874ssnsg1C7vS2QTd7pVgpiXea2C2H0",authDomain:"todolist-402ab.firebaseapp.com",databaseURL:"https://todolist-402ab.firebaseio.com",projectId:"todolist-402ab",storageBucket:"todolist-402ab.appspot.com",messagingSenderId:"83303513750",appId:"1:83303513750:web:c8503fcd40ba8b70554cb7"}),_=Object(M.c)(q);d.a.initializeApp($),c.a.render(r.a.createElement(f.a,{store:_},r.a.createElement(F.a,{theme:Z},r.a.createElement(O.a,{theme:Z},r.a.createElement(H,null)))),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.3600b9e8.chunk.js.map