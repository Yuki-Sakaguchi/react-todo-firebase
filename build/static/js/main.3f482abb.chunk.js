(this["webpackJsonpreact-todo-firebase"]=this["webpackJsonpreact-todo-firebase"]||[]).push([[0],{51:function(t,e,n){t.exports=n(70)},70:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(17),o=n.n(r),i=n(18),u=n(15),s=n.n(u),l=n(25),d=n(21),f=n(22),m=n(16),p=n(91),b=n(97),h=n(90);function O(){var t=Object(f.a)(["\n  margin: 0 5px;\n"]);return O=function(){return t},t}function j(){var t=Object(f.a)(["\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"]);return j=function(){return t},t}var E=Object(m.b)(b.a)(j(),(function(t){return t.theme.palette.primary.main})),v=Object(m.b)(h.a)(O()),g=function(t){var e=t.todoList,n=t.deleteTodo,a=t.changeTodoStatus,r=t.type;return c.a.createElement(p.a,{container:!0,spacing:3},e.map((function(t,e){return c.a.createElement(E,{key:e},c.a.createElement(p.a,{item:!0,xs:8},t),c.a.createElement(p.a,{item:!0,xs:4},c.a.createElement(v,{variant:"contained",color:"primary",onClick:function(){return a(e)}},"todo"===r?"\u6e08\u307f":"\u623b\u3059"),c.a.createElement(v,{variant:"contained",color:"secondary",onClick:function(){return n(e)}},"\u524a\u9664")))})))},k=n(92),x=n(93),y=n(96),w=n(95),S=n(19),T=n.n(S);n(68);function C(){var t=Object(f.a)(["\n  margin: 40px auto;\n"]);return C=function(){return t},t}function L(){var t=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 auto;\n  > * {\n    width: 48%;\n  }\n"]);return L=function(){return t},t}function I(){var t=Object(f.a)(["\n  margin: 40px 0;\n"]);return I=function(){return t},t}var A=m.b.section(I()),B=m.b.div(L()),D=m.b.div(C()),R=function(){var t=Object(a.useState)(null),e=Object(d.a)(t,2),n=e[0],r=e[1],o=Object(a.useState)(""),u=Object(d.a)(o,2),f=u[0],m=u[1],b=Object(a.useState)([]),O=Object(d.a)(b,2),j=O[0],E=O[1],v=Object(a.useState)([]),S=Object(d.a)(v,2),C=S[0],L=S[1],I=Object(a.useState)(!0),R=Object(d.a)(I,2),W=R[0],z=R[1],G=Object(a.useState)(!1),J=Object(d.a)(G,2),K=J[0],N=J[1],P=Object(a.useState)(!1),U=Object(d.a)(P,2),H=U[0],M=U[1],Q=T.a.firestore();Object(a.useEffect)((function(){T.a.auth().onAuthStateChanged(function(){var t=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=5;break}return t.next=3,Q.collection("todolist").doc(e.uid).get();case 3:t.sent.exists||Q.collection("todolist").doc(e.uid).set({todo:{tasks:[]},finishedTodo:{tasks:[]}});case 5:r(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[Q,n]),Object(a.useEffect)((function(){null!=n&&Object(l.a)(s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.collection("todolist").doc(n.uid).get();case 2:(e=t.sent).data().todo.tasks&&E(e.data().todo.tasks),e.data().finishedTodo.tasks&&L(e.data().finishedTodo.tasks),z(!1);case 6:case"end":return t.stop()}}),t)})))()}),[Q,n]),Object(a.useEffect)((function(){null!=n&&K&&Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(!0),t.next=3,Q.collection("todolist").doc(n.uid);case 3:t.sent.update({todo:{tasks:j}}),z(!1);case 6:case"end":return t.stop()}}),t)})))()}),[j,K,Q,n]),Object(a.useEffect)((function(){null!=n&&(H&&Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return z(!0),t.next=3,Q.collection("todolist").doc(n.uid);case 3:t.sent.update({finishedTodo:{tasks:C}}),z(!1);case 6:case"end":return t.stop()}}),t)})))(),M(!1))}),[Q,C,H,n]);var V=function(){var t=Object(l.a)(s.a.mark((function t(e){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),f&&(N(!0),E([].concat(Object(i.a)(j),[f])),m(""));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),X=function(t){N(!0),E(j.filter((function(e,n){return n!==t})))},q=function(t){M(!0),L(C.filter((function(e,n){return n!==t})))};return null==n?c.a.createElement("button",{onClick:function(){return function(){var t=new T.a.auth.GoogleAuthProvider;T.a.auth().signInWithRedirect(t)}()}},"Gooele Login"):c.a.createElement(k.a,{maxWidth:"xl"},c.a.createElement(x.a,{variant:"h2",component:"h1"},"TODO!!"),c.a.createElement(y.a,{alt:n.displayName,src:n.photoURL}),c.a.createElement("p",null,n.displayName,"\u3055\u3093"),c.a.createElement("button",{onClick:function(){T.a.auth().signOut()}},"Logout"),c.a.createElement("form",{onSubmit:function(t){return V(t)}},c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:9},c.a.createElement(w.a,{fullWidth:!0,onChange:function(t){return function(t){m(t.target.value)}(t)},value:f})),c.a.createElement(p.a,{item:!0,xs:1},c.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(t){return V(t)},type:"submit"},"\u8ffd\u52a0")))),W?c.a.createElement(D,null,"loading"):c.a.createElement(B,null,c.a.createElement(A,null,c.a.createElement(x.a,{variant:"h3",component:"h2"},"TASK"),c.a.createElement(g,{todoList:j,deleteTodo:X,changeTodoStatus:function(t){N(!0),M(!0),X(t),L([].concat(Object(i.a)(C),[j.find((function(e,n){return n===t}))]))},type:"todo"})),c.a.createElement(A,null,c.a.createElement(x.a,{variant:"h3",component:"h2"},"COMPLETE"),c.a.createElement(g,{todoList:C,deleteTodo:q,changeTodoStatus:function(t){N(!0),M(!0),q(t),E([].concat(Object(i.a)(j),[C.find((function(e,n){return n===t}))]))},type:"done"}))))},W=n(94),z=n(46),G=Object(z.a)({palette:{primary:{main:"#add8e6",dark:"#82a5b1",light:"#cfeff9"},secondary:{main:"#fbe1a9"},text:{primary:"#444444",secondary:"#757575"}}}),J=(n(69),{apiKey:"AIzaSyBO874ssnsg1C7vS2QTd7pVgpiXea2C2H0",authDomain:"todolist-402ab.firebaseapp.com",databaseURL:"https://todolist-402ab.firebaseio.com",projectId:"todolist-402ab",storageBucket:"todolist-402ab.appspot.com",messagingSenderId:"83303513750",appId:"1:83303513750:web:c8503fcd40ba8b70554cb7"});T.a.initializeApp(J),o.a.render(c.a.createElement(W.a,{theme:G},c.a.createElement(m.a,{theme:G},c.a.createElement(R,null))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.3f482abb.chunk.js.map