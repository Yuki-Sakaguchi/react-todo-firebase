(this["webpackJsonpreact-todo-firebase"]=this["webpackJsonpreact-todo-firebase"]||[]).push([[0],{51:function(e,t,n){e.exports=n(70)},70:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(18),o=n.n(r),i=n(19),u=n(15),s=n.n(u),l=n(25),d=n(17),f=n(20),m=n(16),p=n(92),b=n(101),h=n(91);function E(){var e=Object(f.a)(["\n  margin: 0 5px;\n"]);return E=function(){return e},e}function O(){var e=Object(f.a)(["\n  &:not(:first-child) {\n    border-top: 1px solid ",";\n  }\n"]);return O=function(){return e},e}var j=Object(m.b)(b.a)(O(),(function(e){return e.theme.palette.primary.main})),v=Object(m.b)(h.a)(E()),g=function(e){var t=e.todoList,n=e.deleteTodo,a=e.changeTodoStatus,r=e.type;return c.a.createElement(p.a,{container:!0,spacing:3},t.map((function(e,t){return c.a.createElement(j,{key:t},c.a.createElement(p.a,{item:!0,xs:8},e),c.a.createElement(p.a,{item:!0,xs:4},c.a.createElement(v,{variant:"contained",color:"primary",onClick:function(){return a(t)}},"todo"===r?"\u6e08\u307f":"\u623b\u3059"),c.a.createElement(v,{variant:"contained",color:"secondary",onClick:function(){return n(t)}},"\u524a\u9664")))})))},y=n(93),x=n(102),k=n(94),S=n(95),w=n(96),T=n(97),C=n(100),L=n(99),I=n(21),A=n.n(I);n(68);function B(){var e=Object(f.a)(["\n  margin: 40px auto;\n"]);return B=function(){return e},e}function D(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin: 0 auto;\n  > * {\n    width: 48%;\n  }\n"]);return D=function(){return e},e}function G(){var e=Object(f.a)(["\n  margin: 40px 0;\n"]);return G=function(){return e},e}function R(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n"]);return R=function(){return e},e}var W=m.b.div(R()),z=m.b.section(G()),J=m.b.div(D()),K=m.b.div(B()),N=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),u=Object(d.a)(o,2),f=u[0],m=u[1],b=Object(a.useState)(""),E=Object(d.a)(b,2),O=E[0],j=E[1],v=Object(a.useState)([]),I=Object(d.a)(v,2),B=I[0],D=I[1],G=Object(a.useState)([]),R=Object(d.a)(G,2),N=R[0],P=R[1],U=Object(a.useState)(!0),H=Object(d.a)(U,2),M=H[0],Q=H[1],V=Object(a.useState)(!1),X=Object(d.a)(V,2),q=X[0],F=X[1],Y=Object(a.useState)(!1),Z=Object(d.a)(Y,2),$=Z[0],_=Z[1],ee=A.a.firestore();Object(a.useEffect)((function(){console.log("1 "+n),A.a.auth().onAuthStateChanged(function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("2 "+t),null==t){e.next=9;break}return e.next=4,ee.collection("todolist").doc(t.uid).get();case 4:e.sent.exists||ee.collection("todolist").doc(t.uid).set({todo:{tasks:[]},finishedTodo:{tasks:[]}}),m(!1),e.next=10;break;case 9:m(!0);case 10:r(t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[ee,n]),Object(a.useEffect)((function(){null!=n&&Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.collection("todolist").doc(n.uid).get();case 2:(t=e.sent).data().todo.tasks&&D(t.data().todo.tasks),t.data().finishedTodo.tasks&&P(t.data().finishedTodo.tasks),Q(!1);case 6:case"end":return e.stop()}}),e)})))()}),[ee,n]),Object(a.useEffect)((function(){null!=n&&q&&Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,ee.collection("todolist").doc(n.uid);case 3:e.sent.update({todo:{tasks:B}}),Q(!1);case 6:case"end":return e.stop()}}),e)})))()}),[B,q,ee,n]),Object(a.useEffect)((function(){null!=n&&($&&Object(l.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,ee.collection("todolist").doc(n.uid);case 3:e.sent.update({finishedTodo:{tasks:N}}),Q(!1);case 6:case"end":return e.stop()}}),e)})))(),_(!1))}),[ee,N,$,n]);var te=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),O&&(F(!0),D([].concat(Object(i.a)(B),[O])),j(""));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){F(!0),D(B.filter((function(t,n){return n!==e})))},ae=function(e){_(!0),P(N.filter((function(t,n){return n!==e})))};return null==n?f?c.a.createElement(W,null,c.a.createElement(x.a,null,c.a.createElement(k.a,null,c.a.createElement(S.a,{variant:"h3",component:"h2",color:"textSecondary",gutterBottom:!0},"TODO"),c.a.createElement(S.a,{variant:"body2",component:"p"},"Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002")),c.a.createElement(w.a,{style:{justifyContent:"center"}},c.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e=new A.a.auth.GoogleAuthProvider;A.a.auth().signInWithRedirect(e)}()}},"Gooele Login")))):c.a.createElement(W,null,c.a.createElement(y.a,null)):c.a.createElement(T.a,{maxWidth:"xl"},c.a.createElement(S.a,{variant:"h2",component:"h1"},"TODO!!"),c.a.createElement(C.a,{alt:n.displayName,src:n.photoURL}),c.a.createElement("p",null,n.displayName,"\u3055\u3093"),c.a.createElement("button",{onClick:function(){A.a.auth().signOut()}},"Logout"),c.a.createElement("form",{onSubmit:function(e){return te(e)}},c.a.createElement(p.a,{container:!0,spacing:3},c.a.createElement(p.a,{item:!0,xs:9},c.a.createElement(L.a,{fullWidth:!0,onChange:function(e){return function(e){j(e.target.value)}(e)},value:O})),c.a.createElement(p.a,{item:!0,xs:1},c.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(e){return te(e)},type:"submit"},"\u8ffd\u52a0")))),M?c.a.createElement(K,null,"loading"):c.a.createElement(J,null,c.a.createElement(z,null,c.a.createElement(S.a,{variant:"h3",component:"h2"},"TASK"),c.a.createElement(g,{todoList:B,deleteTodo:ne,changeTodoStatus:function(e){F(!0),_(!0),ne(e),P([].concat(Object(i.a)(N),[B.find((function(t,n){return n===e}))]))},type:"todo"})),c.a.createElement(z,null,c.a.createElement(S.a,{variant:"h3",component:"h2"},"COMPLETE"),c.a.createElement(g,{todoList:N,deleteTodo:ae,changeTodoStatus:function(e){F(!0),_(!0),ae(e),D([].concat(Object(i.a)(B),[N.find((function(t,n){return n===e}))]))},type:"done"}))))},P=n(98),U=n(46),H=Object(U.a)({palette:{primary:{main:"#add8e6",dark:"#82a5b1",light:"#cfeff9"},secondary:{main:"#fbe1a9"},text:{primary:"#444444",secondary:"#757575"}}}),M=(n(69),{apiKey:"AIzaSyBO874ssnsg1C7vS2QTd7pVgpiXea2C2H0",authDomain:"todolist-402ab.firebaseapp.com",databaseURL:"https://todolist-402ab.firebaseio.com",projectId:"todolist-402ab",storageBucket:"todolist-402ab.appspot.com",messagingSenderId:"83303513750",appId:"1:83303513750:web:c8503fcd40ba8b70554cb7"});A.a.initializeApp(M),o.a.render(c.a.createElement(P.a,{theme:H},c.a.createElement(m.a,{theme:H},c.a.createElement(N,null))),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ede978d5.chunk.js.map